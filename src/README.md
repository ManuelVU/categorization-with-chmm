# Source code

Files in this section include functions to generate read and write data files 
(`~/data-f`), calculate similarities (`~/similarity-f`) and sampling methods 
(`~/sampling-f`). Functions are used by files in the `~/analysis` directory.

----

### Data functions

The directory `~/data-f` contains functions that read and write data from the 
experiments in the project. Original data are stored in `.mat` format on 
`~/data/matlab-files`.

  - `lee-navarro-rw.R` this function reads data from Lee and Navarro's 2002 
  and saves the output in long format as a `.csv` file into the 
  `~data/csv-files` directory.
  
  - `lewandowsky-rw.R` this function reads data from Lewandowsky's 2011 
  and saves the output in long format as a `.csv` file into the 
  `~data/csv-files` directory.
  
----

### Similarity functions

The directory `~/similarity-f` contains functions that can write 
stimulus-features data files in `.csv` format and functions to calculate the 
similarity between two stimulus in an experiment. This functions are used by 
the sampling methods in `~/sampling-f`.

  - `lee-navarro-features.R` function that writes a data-frame in `.csv` with 
  the stimulus, stimulus name, and features in terms of their presence/absence,
  for Lee and Navarro's 2002 experiment.
  
  - `lewandowsky-features.R` function that writes a data-frame in `.csv` with 
  the stimulus, stimulus name, and features in terms of their presence/absence,
  for Lewandowsky's 2011 experiment.

  - `lee-navarro-distinctive.R` function that takes a stimulus feature matrix 
  and returns a three-dimensional array with the features in stimulus I that 
  are not shared by J and the features in stimulus J not shared by I. Stimulus
  I is considered the target and J is the comparison stimulus. Function returns
  a list with two three-dimensional arrays `i_not_in_j` and `not_in_i_in_j`, the
  third dimension indexes the target stimulus I, rows index the comparison
  stimulus J and columns the feature according to the `stimulus` variable in the 
  stimulus feature matrix provided to the function.
  
  - `featural-distance.R` function that calculates the feature distance of a 
  target stimulus I (rows) and a comparison stimulus J (columns). Function takes
  two arguments, a distinctive features array generated by the function in
  `lee-navarro-distinctive.R`, and a salience vector that indexes the weight of
  each feature dimension, this vector needs to have as many elements as 
  the number of stimulus features on a given experiment. The output is a 
  symmetric dissimilarity matrix. This measure is based on Lee and Navarro's 
  (2002) equation 12.
  
  - `similarity.R` function that calculates the similarity between stimulus i
  and j for a given decay_rate and decay_function which represent the speed at
  which similarity decays with distance and the function of that decay. Function
  takes 3 arguments, a decay_rate, a decay_function value and a distance matrix.
  currently can only take a symmetric matrix based on Lee and Navarro's fetural
  distance measure.
  
----


----

TO DO

- Need to write the function to calculate the product of the transition 
probabilities of all other chains. 

- Start the forward filter backward sampling function for the first trial.

- Program a function that can take two vectors of states and return the product
of the transition probabilities.
